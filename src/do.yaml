services:
  - name: frontend-service
    github:
      repo: https://github.com/Ayden-Owens/whattocook
      branch: main
    source_dir: /src/client
    build_command: npm run build
    routes:
      - path: /build
        type: rewrite
        destination: /build/index.html

  - name: backend-service
    github:
      repo: https://github.com/Ayden-Owens/whattocook
      branch: main
    source_dir: /src/server
    build_command: npm install
    run_command: npm start
    instance_count: 1
    routes:
      - path: /api
